# TASK-014: ユーザー役割とチーム管理機能

## 目的
PMとメンバーの役割を明確にし、プロジェクトチーム管理を実装する

## 背景
現状、全ユーザーが同じ権限で、PMとメンバーの区別がありません。
また、プロジェクトに参加しているチームメンバーが存在しないため、
実際のプロジェクト運営の様子が分かりにくい状態です。

## 実装内容

### 1. データモデルの拡張
- [x] Userモデルにroleフィールドを追加（PM/MEMBER）
- [x] マイグレーションの実行
- [x] 既存データの更新

### 2. シードデータの拡張
- [x] PMユーザーの追加（3名：木村健一、松本美紀、小林拓也）
- [x] TeamMemberレコードの作成
  - 医療ポータルプロジェクト: PM + 4名のメンバー
  - 銀行APIプロジェクト: PM + 3名のメンバー
  - AIチャットボットプロジェクト: PM + 3名のメンバー
- [x] PMとメンバーの役割を明確に区別

### 3. UI/UX改善
- [x] ヘッダーにユーザー役割を表示（Crownアイコン、役割バッジ）
- [x] ユーザー選択ドロップダウンに役割表示
- [x] PM専用機能の表示制御
  - タスク割り当て機能（PMのみ）
  - AI自動割り当てボタン（PMのみ）
- [ ] チームメンバー管理（次フェーズで実装）
- [ ] メンバー向け機能（次フェーズで実装）
  - 自分の担当タスク一覧
  - 参加プロジェクト一覧
- [x] プロジェクト詳細画面にチームメンバー表示を改善（既存実装を活用）

### 4. ダッシュボード改善
- [x] ダッシュボードに役割表示（PM/メンバー）
- [ ] PM向けダッシュボード（次フェーズで実装）
  - 管理中のプロジェクト一覧
  - チーム全体の進捗状況
- [ ] メンバー向けダッシュボード（次フェーズで実装）
  - 参加プロジェクト一覧
  - 自分の担当タスク一覧
  - タスク進捗状況

## 完了条件
- [x] PMとメンバーの役割が明確に区別されていること
- [x] 各プロジェクトにチームメンバーが存在すること
- [x] PM専用機能とメンバー機能が適切に制御されていること
- [x] ユーザー選択時に役割が分かりやすく表示されること

## ステータス
✅ 完了 (2025-01-26) - ユーザー役割とチーム管理の基本機能を実装

## 実装メモ
- Prisma schema に UserRole enum (PM/MEMBER) を追加
- 合計11ユーザー: PM 3名、メンバー 8名
  - PM: 木村健一（医療）、松本美紀（銀行）、小林拓也（AI）
- 全プロジェクトにチームメンバーを配置（合計13メンバー）
- ヘッダーとダッシュボードに役割バッジ表示
- PM専用機能の表示制御（タスク割り当てボタン）
- メンバー向けカスタマイズ機能は次フェーズで実装予定

## 確認方法
1. ヘッダーのユーザー選択で「木村 健一 [PM]」などPMユーザーを選択
2. プロジェクト詳細画面で「AI自動割り当て」ボタンと個別「割り当て」ボタンが表示される
3. メンバーユーザー（例：田中 太郎）を選択すると、これらのボタンが非表示になる
4. プロジェクト詳細のチームメンバーセクションで参加メンバーを確認できる

## 次のタスク
TASK-010: 進捗管理とリアルタイム更新（再開）
