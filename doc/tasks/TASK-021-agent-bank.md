# TASK-021: エージェントバンク（過去実績参照システム）

## 目的
エージェントの過去実績を追跡・蓄積し、タスク割り当て時の判断材料として活用できるようにする

## 実装内容

### 1. エージェントバンク データモデル
- [x] AgentBank モデル（既存）を活用
- [x] エージェントの実績データ保存
- [x] 学習データの構造化

### 2. エージェント評価システム
- [x] タスク完了時の自動スコア計算（0-100点）
- [x] カテゴリ別評価（納期遵守、品質、コミュニケーション）
- [x] 期日遵守度の計算
- [x] 進捗率による品質評価

### 3. タスク完了時の自動登録
- [x] タスク進捗APIに自動記録ロジック統合
- [x] タスク完了検知
- [x] パフォーマンスデータ生成
- [x] 学習データの保存（タスクタイプ、ドメイン、チーム規模）

### 4. エージェント実績分析機能
- [x] 過去実績の集計・分析
- [x] 平均スコア・成功率の計算
- [x] 強み・弱みの自動抽出
- [x] AI推奨事項の生成

### 5. API実装
- [x] GET /api/agent-bank?agentId=xxx - エージェント実績一覧取得
- [x] POST /api/agent-bank - 実績登録
- [x] GET /api/agent-bank/analyze?agentId=xxx - 実績分析

### 6. UI実装
- [x] エージェント実績カードコンポーネント作成
- [x] プロフィールページへの統合
- [x] カテゴリ別スコアの可視化（プログレスバー）
- [x] 強み・弱みのバッジ表示
- [x] 最近のプロジェクト履歴表示

### 7. タスク割り当てへの統合
- [x] タスクマッチングロジックに実績データ統合
- [x] 過去スコアに基づくボーナス計算（0-20点）
- [x] 類似タスク経験によるボーナス（+5点）
- [x] 自動割り当てAPIでの実績データ取得

## 完了条件
- [x] タスク完了時に自動でエージェント実績が記録されること
- [x] エージェントの過去実績を分析・表示できること
- [x] タスク割り当て時に実績データが考慮されること

## 実装済みファイル
- `/app/api/agent-bank/route.ts` - エージェントバンク一覧・登録API
- `/app/api/agent-bank/analyze/route.ts` - 実績分析API
- `/app/api/tasks/[id]/progress/route.ts` - タスク完了時の自動記録ロジック
- `/components/agent-performance-card.tsx` - 実績表示UIコンポーネント
- `/app/profile/page.tsx` - プロフィールページに実績分析を追加
- `/lib/task-matcher.ts` - 実績データを考慮したマッチングロジック
- `/app/api/projects/[id]/auto-assign/route.ts` - 実績データ取得を追加

## 次のタスク
TASK-022: E2Eユーザーストーリーテスト
